{{ define "main" }}
<div class="list-page">
  <div class="container">

    <div class="list-header">
      <h1 class="list-title">{{ .Title }}</h1>
      {{- with .Content }}
      <div class="list-description">{{ . }}</div>
      {{- end }}
    </div>

    {{- $paginator := .Paginate .Pages }}
    <div class="card-grid">
      {{- range $paginator.Pages }}
      <article class="card">
        {{- with .Params.categories }}
        <div class="card-category">{{ index . 0 }}</div>
        {{- end }}
        <h2 class="card-title"><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
        <div class="card-meta">
          <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "Jan 2, 2006" }}</time>
          {{- if .ReadingTime }}<span>{{ .ReadingTime }} min read</span>{{- end }}
          {{- with .Params.status }}
          <span class="status-badge status-{{ . | lower | replaceRE " " "-" }}">{{ . }}</span>
          {{- end }}
        </div>
        {{- with .Summary }}
        <p class="card-excerpt">{{ . | plainify | truncate 140 }}</p>
        {{- end }}
        <a href="{{ .RelPermalink }}" class="card-link">Read more →</a>
      </article>
      {{- end }}
    </div>

    {{- with $paginator }}
    {{- if gt .TotalPages 1 }}
    <nav class="pagination" aria-label="Pagination">
      {{- if .HasPrev }}
      <a href="{{ .Prev.URL }}" class="page-link" aria-label="Previous page">← Prev</a>
      {{- end }}
      {{- range .Pagers }}
      {{- if eq . $paginator }}
      <span class="page-link active" aria-current="page">{{ .PageNumber }}</span>
      {{- else }}
      <a href="{{ .URL }}" class="page-link">{{ .PageNumber }}</a>
      {{- end }}
      {{- end }}
      {{- if .HasNext }}
      <a href="{{ .Next.URL }}" class="page-link" aria-label="Next page">Next →</a>
      {{- end }}
    </nav>
    {{- end }}
    {{- end }}

  </div>
</div>
{{ end }}
